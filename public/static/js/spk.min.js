/* *	SpkJS v1.1.34 - A fast, reliable, lightweight JavaScript framework * Copyright (c) 2013 Nicholas Riley, Sparkida, SpkJS. All rights reserved. * This code must not be altered, reverse engineered, sublicensed, duplicated, extracted, or used to encourage or promote illegal activity. Any open source licensed software used by and/or accessible through this software (SpkJS) may expressly override some of these terms, and in such cases, the overriding provisions apply. */(function(w){self.dev=self.dev||0;var l=function(msg){console.log(msg)};self.dbg=l;var h,bx=0,dq=null,o,aq={},ah,ag='prototype',d='config',kc='ignite',co='bind',fz='load',L='local',fp='event',kl='style',iu='getStyle',gl='objectClone',ih='addScript',p='node',kf='get',hi='htmlEncode',hj='htmlDecode',ao='extend',hv='parseJSON',ik='sitename',gp='getInstance',am='windowLoaded',cq='clearChildren',ia='clearNode',kk='objectProps',az='objectArray',ei='objectArrayKeys',da='objectLength',be='getScript',eq='google',hx='googleLT_',bi='googleLoaderReady',dh='filter',jm='indexOf',fj='getAlphaColor',kd='getRGB',ke='getHex',jo='getJSON',cb='clientWidth',bv='clientHeight',eh='previousElement',gm='nextElement',is='hasChild',hl='fromString',ie='unset',kv='bootstrap',bg='set',dr=!1,s={},fw=[],hs=[],ku,ck,kb=!1,cu,ic=(function(){var t,fm=function(){return new Date().getTime()},kf=function(t){var ft=fm()-bx;if(void 0!==t&&t===1){return Math.round(ft/10)/100+' seconds'}return ft};bx=fm();return kf}()),ea=function(af){console.log(af.callee.caller.toString())},ce=!1,cf=(function(){var ju=w.navigator.userAgent.toLowerCase(),gh=['chrome','firefox','msie','safari','opera'],lg='android|avantgo|blackberry|bolt|boost'+'|cricket|docomo|fone|hiptop|mini|mobi'+'|palm|iphone|ipad|pie|tablet|up.browser'+'|up.link|webos|wos';ce=(ce=ju.match(lg))&&ce.pop()||!1;if(ce){document.documentElement.className+=' device '+ce}for(var j=0;j<gh.length;j++){if(ju.search(gh[j])>=0){return gh[j]}}}()),dg=(function(){var le=-1;if(cf==='msie'){var ll=navigator.userAgent;var lm=new RegExp("MSIE ([0-9]{1,}[\.0-9]{0,})");if(lm.exec(ll)!==null)le=parseFloat(RegExp.$1)}return le}()),ff=(function(){var bg=0,ib=function(h){self[h.c]=function(kw){l('Spk > creating the core');if(h.set&&(void 0===kw||null===kw||(kw.hasOwnProperty('length')&&!kw.length))||!h.set&&(void 0!==kw||void 0===h.i||h.i===null||(h.i.hasOwnProperty('length')&&!h.i.length))){this.__proto__=null;return null}else if(!bg){if(void 0!==self[h.i]&&null!==self[h.i]&&typeof self[h.i]==='object'&&void 0!==self[h.i].settings&&null!==self[h.i].settings&&typeof self[h.i].settings==='object'){dq=self[h.i].settings;self[h.i]=null}bg=1}};if(!bg){self[h.m]={};dr=lh.o}return self[h.c]};return ib}()),lb=(function(){var jr=function(h){self[h.i]=new self[h.c];self[h.c]=null;ff=null;return self[h.i]};return jr}()),bf=(function(h,kw,ij){var h,kw,ij,dy=(function(){return {i:h,m:kw,c:'__'+ij+'_'+bx}});h=dy();dy=null;return h}),lh={o:1},v=bf('Spk','spk','SPK'),bf=null,bm=!1,h=ff(v)[ag];h.benchmark=ic,h.getTime=function(he){if(void 0===he){he=!1}var ft=new Date();return he?ft.getTime():Number(ft.getTime().toString().slice(0,10))},h.name=v.i,h.startTime=bx,h[am]=!1,h.win=w,h.doc=h.win.document,h.browser=cf,h.device=ce,h.ieVersion=dg;var cu=function(){l('Spk > showStage initiated');h.body.style.visibility='visible';if(h[d].get('usejQuery')){h.$D=$(h.doc);h.$B=$(h.body);h.$W=$(h.win)}bp()},iw=function(){l('  ---  ---  Window loaded  ---  ---  '+h.benchmark(1));l(' ---- Switching to loaded enviornment ---- ');h.body=h.doc.body;h[am]=!0;if(bm){l('Spk>  stage is set! -- calling showStage from _W.onload');cu()}iw=null};(function(){var ki=!1,kp=!0,du=h.doc,jw=du.documentElement,kj=du.addEventListener?'addEventListener':'attachEvent',lf=du.addEventListener?'removeEventListener':'detachEvent',bh=du.addEventListener?'':'on',gb=function(O){if(O.type==='readystatechange'&&du.readyState!=='complete'){return}(O.type==='load'?h.win:du)[lf](bh+O.type,gb,!1);if(!ki&&(ki=!0)){iw()}},jx=function(){try{jw.doScroll('left')}catch(O){h.win.setTimeout(jx,1);return}gb('poll')};if(du.readyState==='complete'){iw()}else{if(du.createEventObject&&jw.doScroll){try{kp=!h.win.frameElement}catch(O){}if(kp){jx()}}du[kj](bh+'DOMContentLoaded',gb,!1);du[kj](bh+'readystatechange',gb,!1);h.win[kj](bh+'load',gb,!1)}}());h[gp]=(function(){var ej=lb(v),jr=function(C){if(void 0!==C){if(void 0===ej[C]){throw 'Spk::getInstance > Invalid module name'}return ej[C]}return ej};return jr}());h[co]=(function(){var ij=v,ky=function(I,bk){var fm=I,O=bk;l('Spk > binding '+fm);if(void 0===fm||null===fm||typeof fm!=='string'){throw ('Spk > Invalid bind request "'+fm+'"')}else{if(void 0===aq[fm]){l('Spk > module "'+fm+'" bound to "'+ij.i+'"');aq[fm]=function(){};aq[fm].lazy=[];if(void 0!==O&&typeof O==='string'){aq[fm].lazy.push(O);self[ij.m][O]=aq[fm][ag];if(void 0!==s[fm]&&s[fm].extend){aq[fm]=s[fm].func,self[ij.i][fm]=new aq[fm]();s[fm]=null;delete s[fm]}}}else{l('Spk > _x0955 :: module loaded checking for shortcut @ '+O);if(void 0!==self[ij.m][O]&&typeof self[ij.m][O]==='string'){var kr=aq[fm].lazy;var kn=kr.length;var u=0;for(var j=0;j<=kn;j++){if(O===kr[j]){u=1}}if(void 0===u||dr){aq[fm].lazy.push(O);self[ij.m][O]=aq[fm][ag]}kr=null}}}};return ky}());h[fz]=(function(){var c,ak,bu=!0,k,ad,bb,ij=v,ev,P=0,av={},am=!1,ds=0,dd=!1,ew=function(k){l('Spk::Load > Validating module "'+k+'"');if(typeof k!=='string'){l('_x0953');throw this.name+' Invalid request!'}else{if(void 0!==aq&&void 0!==aq[k]&&typeof aq[k]==='function'){self[this.name][k]=new aq[k]();var kr=aq[k].lazy,kn=kr.length;aq[k]=null;delete aq[k];for(var j=0;j<=kn;j++){self[ij.m][kr[j]]=null;delete self[ij.m][kr[j]]}kr=null;kn=null;l('Spk > deleting prototype @'+k);delete aq[k];this[k].name=k;av[k.toLowerCase()]=!0;ds++;if(void 0!==this[k].init&&typeof this[k].init==='function'){if(bm){l('Spk > initializing '+k);ck();this[k].init()}else{l('Spk > storing init function for '+k);fw.push(k)}}if(!dd&&av.length===P&&ds===P){l('===============CLOSING SPK PROTO============== '+h.benchmark(1));dd=!0}return !0}l('Load Invalid > '+k);return !1}},de=(function(){var fe=0;return function(aa,ba){fe++;l('attempting to load jq component: '+aa);var dz;if(aa.search(/bootstrap/i)>=0){dz=(ba)?ak.get('jQueryLocation').src+aa+'.js':ak.get('jQueryLocation').local+aa+'.js'}else{dz=(ba)?ak.get('jQueryLocation').src+'jquery.'+aa+'.js':ak.get('jQueryLocation').local+'jquery.'+aa+'.js'}h[be](dz);if(fe===o.get('jQueryComLength')){o.set('jQueryComCalled',!0)}}}()),ec=function(loc,ba){var kg=loc+'.js',kt=ak.get('spkLocation'),dz=ba?kt.src+kg:kt.local+kg;h[be](dz)};return function(k,ad,bb){if(bu){bu=!1,P=o.get('spksLength');ak=h[d],c=h.getInstance()}if(void 0!==av[k.toLowerCase()]){throw new TypeError('Spk::load > '+k+' has already been loaded');return}else if(void 0!==ad){if(void 0===bb){bb=!1}switch(ad){case'spk':ec(k,bb);return;case'jQuery':de(k,bb);return;default:throw 'Spk::Load > Invalid location'}}l('Spk > loading spk :: '+k);if(!ew.call(c,k)){throw new TypeError('Spk::load > Invalid request module')}}}()),h[L]=(function(){var L={};for(var t in w.location){L[t]=w.location[t]}L['queryString']=w.location.search.length?w.location.search.substr(1):'';L['query']=null;if(L['queryString'].length>0){var gk=L['query']={},R=L['queryString'].split('&');for(var j=0;j<R.length;j++){var x=R[j].split('='),jt=x.pop();gk[x]=jt}}return L}());if(void 0===h[L].origin){h[L].origin=h[L].protocol+'//'+h[L].host}h[L][ik]=(function(){var bq=h[L].host;if(self.dev){return bq}bq=bq.split('.');return bq.splice(bq.length-2,1)}());var jj=(function(){var fo=['method','action','data','complete','error','async'],gq='Content-type',es='application/x-www-form-urlencoded';return function(af,ap){var dn=this;dn.method='GET',dn.async=!0,dn.data=null,dn.action='',dn.complete=null,dn.error=null;if(void 0===af){return dn.createRequest()}switch(typeof af){case'string':l('ajax shortcut request received');if(void 0!==ap){dn.async=ap?!0:!1}dn.action=af;return dn.getURL();break;case'object':for(var t in af){dn[t]=af[t]}var u=dn.createRequest();if(void 0!==dn.complete){u.complete=dn.complete}if(void 0!==dn.error){u.error=dn.error}try{u.open(dn.method.toUpperCase(),dn.action,dn.async)}catch(err){throw 'Spk > Invalid ajax method, expecting url'}if(dn.data!==null){dn.data=dn.objectData(dn.data)}u.setRequestHeader('X-Requested-With','XMLHttpRequest');u.setRequestHeader(gq,es);try{u.send(dn.data)}catch(err){throw 'Spk > Invalid AJAX post data, expecting object'}break}}}()),hr=jj[ag];h.ajax=(function(af,ap){return new jj(af,ap)}),hr.error=function(msg){throw ('AJAX Error > '+msg)},hr.objectData=function(e){var R='';for(var t in e){R+=t+'='+h.win.encodeURIComponent(e[t])+'&'}R=R.substr(0,R.length-1);return R},hr.createRequest=(function(){var dn,fh=function(){if(h.win.XMLHttpRequest){return new XMLHttpRequest()}else{return new ActiveXObject('Microsoft.XMLHTTP')}};return function(){dn=this;var fd=fh();fd.onreadystatechange=function(){if(fd.readyState===4&&fd.status===200){if(void 0!==fd.complete&&typeof fd.complete==='function'){fd.complete.call(fd)}}};return fd}}()),hr.getURL=function(){l('getting url @'+this.action);var dn=this,cc=dn.createRequest();if(void 0!==dn.complete){cc.complete=dn.complete}cc.open(dn.method,dn.action,dn.async);cc.setRequestHeader('X-Requested-With','XMLHttpRequest');cc.send();return cc};var eu=(function(){var ak,cl=!1;return function(e){if(!cl){cl=!0;ak=new eu(e);ak.get=ak.get.call(ak);ak.set=ak.set.call(ak);ak.reset=ak.reset.call(ak);return ak}cl=!1;if(void 0===e){e={}}else if(typeof e!=='object'){throw 'invalid object _x0954'}this.config={},this.proto=e}}());var dx=eu[ag]={};dx.reset=(function(){var c=this;return function(){c[d]={}}}),dx.get=(function(){var c=this,Y=!1,K;return function(x,K){if(void 0===K){K='both'}else if(K===1){K='both',Y=!0}else if(K!==d&&K!=='proto'&&K!=='both'){throw 'invalid configuration _x0952';return}if(void 0===x){var e,an=c.proto;for(e in c[d]){an[e]=c[d][e]}K=null;Y=!1;return an}else if((K==='both'||K===d)&&void 0!==c[d][x]){K=null;Y=!1;return c[d][x]}else if((K==='both'||K==='proto')&&void 0!==c.proto[x]){K=null;Y=!1;return c.proto[x]}else{K=null;if(Y){Y=!1;return null}return !1}}}),dx.set=(function(){var c=this;return function(x,iy,override){if(void 0!==override&&override){c.proto[x]=iy;return}c[d][x]=iy}});(function(){var fx=h[L].origin+'/',ht='http://s1.sparkida'+(self.dev?'':'.com')+'/src/',hg='js/spk/',hh='js/jquery/',ca={src:ht+hg,local:fx+hg},au={src:ht+hh,local:fx+hh},eg={jQueryUseCom:!1,jQueryLatest:'1.9.1'},ex={enableArbiter:!1,images:[],source:'',spks:{src:[],local:[]},jQueryCom:{src:[],local:[]},spkLocation:ca,jQueryLocation:au,useGoogleAPI:!1,googleLoad:[],useBootstrap:!1,usejQuery:!1,jQueryVersion:'1.8.1'};ah=function(fu){if(fu[fu.length-1]!=='/'){fu+='/'}ca.local=fu+hg,au.local=fu+hh,h[d].set('spkLocation',ca,1),h[d].set('jQueryLocation',au,1)};o=new eu(eg);h[d]=new eu(ex)}());var gu=function(){var gc='//www.google.com/jsapi',ep=h[d].get('googleLoad'),C=null,ab=null,Z=null,gw='load',fn=function(){C=null,ab=null,Z=null},J=[],io=function(googleModule){for(var t=0;t<googleModule.length;t++){switch(t){case 0:l('getting google '+googleModule[t]);C=googleModule[t];break;case 1:ab=googleModule[t];break;case 2:Z=googleModule[t];break}}J.push(C);if(Z!==null){self[eq][gw](C,ab,Z)}else{self[eq][gw](C,ab)}fn()};h[bi]=!1;h[be](gc);h[fz]('googleLoader','spk',!0);var kx=!1,av=0,jh,db,ix=function(){if(void 0!==self[hx]&&h[bi]){h.win.clearInterval(jh);for(var t=0;t<ep.length;t++){io(ep[t])}var fy=J.length,db,gs=function(){for(var t=0;t<J.length;t++){if(void 0!==self[eq][J[t]]&&h[da](self[eq][J[t]])>3){av++;J.splice(t,1)}}if(av===fy){h.win.clearInterval(db);o.set('googleAPIReady',!0)}},db=h.win.setInterval(gs,1)}},jh=h.win.setInterval(ix,1)},fb=function(){var cr=h[d].get('usejQuery');if(!cr){h[d].set('usejQuery',!0)}h[d].get('jQueryCom').src.push('bootstrap')},gt=function(){l('init jQuery');var U=!1,bd=h[d].get('jQueryCom'),by=bd.src.concat(bd.local).length,U=by?!0:!1;o.set('jQueryComSet',!1);o.set('jQueryComLength',by);o.set('jQueryUseCom',U);var H=h[d].get('jQueryVersion'),aa='//ajax.googleapis.com/ajax/libs/jquery/'+H+'/jquery.min.js';h[be](aa);l('Spk > loading [jQuery v'+H+'] from Google APIs');if(U){for(var dp in bd){var ba=(dp==='src')?!0:!1;for(var j=0;j<bd[dp].length;j++){h[fz](bd[dp][j],'jQuery',ba)}}}var df=!1,lj=0,ln=500,df=function(){if(void 0!==self['jQuery']&&typeof self['jQuery']==='function'){return !0}return !1},ch,ef=function(){l('jQuery > attempted load @ '+h.benchmark(1));lj++;if(!df()){if(lj>ln){l('CLOSING ATTEMPT');h.win.clearInterval(ch)}}else{h.win.clearInterval(ch);l(' ----- --- > jQuery Loaded!');o.set('jQueryLoaded',!0)}};ch=h.win.setInterval(ef,1)},fl=(function(){var x=v.i,hp,ii=h.getInstance(),jq=function(){if(ii!==self[x]){l('Spk unset -- resetting');self[x]=ii}};return function(){hp=h.win.setInterval(jq,250)}}()),fi=function(){var hw=h[d].get('images'),iq=new Image();for(var j=0;j<hw.length;j++){iq.src=hw[j]}},cv=function(){l('__________READY TO BURN__________');o.set('spkReady',!0);en()},hu=function(){l('Running the Spk');var dt=dq,ct,ev;if(dt===null){return cv()}for(ct in dt){switch(ct){case'jQueryVersion':if(dt[ct]==='latest'){dt[ct]=o.get('jQueryLatest')}case'source':ah(dt[ct]);break;case'spks':case'jQueryCom':if(void 0===dt[ct].src){dt[ct].src=[]}if(void 0===dt[ct].local){dt[ct].local=[]}default:h[d].set(ct,dt[ct],1)}}h[d].get('useGoogleAPI')&&gu();h[d].get('useBootstrap')&&fb();h[d].get('usejQuery')&&gt();h[d].get('images').length&&fi();h[d].get('enableArbiter')&&fl();ev=h[d].get('spks');var P=0;for(var dp in ev){var ba=(dp==='src')?!0:!1;for(var j=0;j<ev[dp].length;j++){P++;l('loading '+dp+' spk: '+ev[dp][j]);h[fz](ev[dp][j],'spk',ba)}}if(P===0){return cv()}o.set('spksLength',P);hu=null},ku=function(F){hs.push(F)},ck=function(){while(hs.length>0){var hc=hs.splice(0,1)[0];if(typeof hc==='function'){try{hc()}catch(cueError){throw 'Spk > Invalid cue function'}}}hs=[]},bp=function(){ck();while(fw.length){var kq=fw.splice(0,1)[0],ak=self[v.i][kq];l('Spk > Initializing mod "'+kq+'"');ak.init()}},fk=function(){var dp,Q='';for(dp in s){if(s[dp].lazy==='jq'){l('Spk > jQuery mod "'+dp+'" ignited!');if(dp.search(/bootstrap/i)>=0){Q=dp}else{s[dp].func();s[dp]=null;delete s[dp]}}}dp=null;if(h[d].get('useBootstrap')&&Q.length){s[Q].func();s[Q]=null;delete s[Q]}for(dp in s){l('Spk > module "'+dp+'" ignited!');s[dp].func();s[dp]=null;delete s[dp];h[fz](dp)}},en=(function(){var cj,c,dc=!1,il=function(){l(' --------------SETTING STAGE----------------- ');l(' --- READY --- '+h.benchmark(1));bm=!0;if(h[am]){cu()}},jc=function(){l('Spk > checking if stage is ready');h.win.clearInterval(cj);cj=null;l('Spk > executing sparks');fk();l('Spk > checking stageSet');if(bm){l('Spk > stage already set...initializing module');bp()}else{l('Spk > ready called in loadsparks');il()}l('Spk >  -----end-----')},ef=function(){if(bm){jc();return}else if(dc){l('-----------Loader already called------------');return}else{dc=!0}c=this;var cr=h[d].get('usejQuery'),U=o.get('jQueryUseCom'),fr=h[d].get('useGoogleAPI'),gr=function(){return o.get('jQueryLoaded')},ez=function(){return o.get('jQueryComCalled')},fa=function(){return o.get('googleAPIReady')},iv=function(){return o.get('spkReady')},hq=function(){l('checking ready');if((cr===gr())&&(U===ez())&&(fr===fa())&&iv()){l('<<<!We are ready to BURN!>>>');jc()}};cj=h.win.setInterval(hq,1)};return ef}());h[ao]=function(x,method){l('Spk::extend > Extending module '+x);h[x]=method();h.ignite(x,'SPK_API_EXTEND')},h[kc]=(function(){var jr=!0,dm=0,cs=!1,dw;return function(I,bk,gv,ao){if(void 0===I||typeof I!=='string'||!I.length){throw 'Spk > Invalid ignite name'}else if(bk==='SPK_API_EXTEND'){cs=!0}if(jr){var at=h[d].get('spks'),eo=[];at=at.src.concat(at.local);if(h[d].get('usejQuery')){eo=h[d].get('jQueryCom');eo=eo.src.concat(eo.local)}jr=!0;at=at.concat(eo),dw=at.length,ks=null}if(void 0!==kb[I]){throw "Mod "+I+" has already been loaded. Request Denied";return}if(I==='googleLoader'){var ee=gv,bs=null,go=function(){if(void 0!==self.google&&typeof self.google==='object'){h.win.clearInterval(bs);ee();h.googleLoaderReady=!0}};bs=h.win.setInterval(go,1);return}for(var j=0;j<dw;j++){if(at[j].toLowerCase().search(I.toLowerCase())>=0){dm++;break}}if(!cs){s[I]={lazy:bk,func:gv,extend:(void 0===ao||!ao)?!1:!0};l('Spk > * Ignited '+I+' ...awaiting burn *');if(bk!=='jq'){h[co](I,bk)}}else{cs=!1}if(dm>=dw){if(o.get('spkReady')){en()}else{l('...burn ready!');cv()}}}}()),h[be]=function(aa,ap){var aa,lc=Spk.win['Boolean'],jd=aa.split('://'),je=h.filter(jd.pop().split('/'),lc),cp=je.pop(),H=cp.search(/\?v=/)>=0?cp.split('?'):'';if(H.length>0){cp=H[0];H=H.pop();if(H.search(/\.js/)>=0){H=H.substr(0,H.length-3)}aa=jd+'://'+je.join('/')+'/'+cp+'?'+H}l('Spk::getScript > script request received: '+aa);var ed,aa,ap;if(void 0===aa||!aa||!aa.length){throw Error("getScript: Invalid src > "+aa)}ap=(void 0===ap||ap)?!0:!1;ed=h[p]('script');ed.src=aa;ed.async=ap;h.addScript(ed)},h[az]=function(e,all){var dy,G=new Array(),ae=(e instanceof Object),bo=(void 0!==e.item&&(void 0!==e.length&&typeof e.length==='number'));if(!ae&&!bo){throw Error('Spk::objectArray > Invalid Object @'+e)}if(all){for(dy in e){G.push(e[dy])}}else{for(dy in e){if((ae&&!bo)&&e.hasOwnProperty(dy)&&e.propertyIsEnumerable(dy)){G.push(e[dy])}else{if(dy==='length'||dy==='item'||dy==='namedItem'){continue}G.push(e[dy])}}}return G},h[ei]=function(e,all){var dy,G=new Array(),ae=(e instanceof Object);if(!ae){throw Error('Spk::objectArrayKeys > Invalid Object @'+e)}if(all){for(dy in e){G.push(dy)}}else{for(dy in e){if(e.hasOwnProperty(dy)&&e.propertyIsEnumerable(dy)){G.push(dy)}}}return G},h[da]=function(e,all){var t=null,bz=[];if(all){for(t in e){bz.push(t)}}else{for(t in e){if(e.hasOwnProperty(t)&&e.propertyIsEnumerable(t)){bz.push(t)}}}return bz.length},h[gl]=function(e){var dy,t={},ae=(e instanceof Object),bo=(void 0!==e.item&&(void 0!==e.length&&typeof e.length==='number'));if(!ae&&!bo){throw Error('Spk::objectClone > Invalid Object @'+e)}for(dy in e){if((ae&&!bo)&&e.hasOwnProperty(dy)){t[dy]=e[dy]}else{if(dy==='length'||dy==='item'||dy==='namedItem'){continue}t[dy]=e[dy].cloneNode(1)}}return t},h[hv]=function(json){var ey=!1;try{ey=JSON.parse(json)}catch(err){l('error parsing JSON data')}return ey},h[ih]=(function(){var lp=h.doc.getElementsByTagName('script')[0];return function(lk){lp.parentNode.insertBefore(lk,lp)}}()),h[hj]=function(R){return R.replace(/&amp;/g,'&').replace(/&lt;/g,'<').replace(/&gt;/g,'>').replace(/&quot;/g,'"').replace(/&#039;/g,"'")},h[hi]=function(R){return R.replace(/&/lh,'&amp;').replace(/</lh,'&lt;').replace(/>/lh,'&gt;').replace(/"/lh,'&quot;').replace(/'/g,'&#039;')},h[kf]=(function(){var target,T,c,km=function(a,i){var ax=new Array(),r=a.all,t;for(t in r){if(void 0===r[t].nodeType){continue}ax.push(r[t])}return ax},X=['id','classNames','tagName'],la=function(b,x){var ar=(c.name==='Spk')?Spk.doc:c,A=[],cg=(ar instanceof Array);if(!cg){if(void 0!==ar.length&&void 0===ar.nodeType){ar=h[az](ar)}else{ar=[ar]}}for(var dp=0;dp<ar.length;dp++){if(b==='id'){if(T.classNames===null&&T.tagName===null){A.push(ar[dp].getElementById(x));break}else if(T.classNames!==null){var jf=h.doc.getElementById(x),ho=jf.className.split(' ');for(var j=0;j<T.classNames.length;j++){if(h.indexOf(T.classNames[j],ho)<0){A.push(null);break}}A.push(jf);break}A.push(null);break}else if(b==='classNames'){cg=!0;var u={};for(var j=0;j<x.length;j++){try{u[x[j]]=ar[dp].getElementsByClassName(x[j])}catch(errClassName){try{u[x[j]]=km(ar[dp],x[j])}catch(errClassName){}}}var ci='',bz=null;for(var t in u){if(bz===null){bz=u[t].length,ci=t}else if(bz>u[t].length){bz=u[t].length,ci=t}}u=ci.length?u[ci]:null;if(null!==u){u=Spk.objectArray(u);A=A.concat(u)}}else if(b==='tagName'){if(void 0===ar[dp].nodeType){continue}cg=!0;A=A.concat(Spk.objectArray(ar[dp].getElementsByTagName(x)))}}A=A.filter(Spk.win['Boolean']);if(!cg){return A.length>0?A[0]:null}return A.length?A:null},dh=function(){var jn=!1,e={};for(var j=0;j<X.length;j++){if(null!==T[X[j]]){e[X[j]]=la(X[j],T[X[j]]);if(X[j]==='id'&&e[X[j]]!==null){jn=!0;break}}}for(var t in e){if(e[t]===null){return t==='id'?void 0:[]}switch(t){case'id':return e[t];break;case'classNames':var u=[];if(void 0===e.tagName||null===e.tagName){var fo=!0;for(var j=0;j<e[t].length;j++){var hm=e[t][j];if(void 0===hm.nodeType){continue}var ej=hm.className.split(' ');for(var ij=0;ij<T.classNames.length;ij++){if(h.indexOf(T.classNames[ij],ej)<0){fo=!1;break}}if(fo){u.push(hm)}else{fo=!0}}}else{var fg=T.tagName;for(var j=0;j<e[t].length;j++){var ja=e[t][j];if(void 0===ja.nodeType){continue}ja=ja.tagName.toLowerCase();if(fg===ja){u.push(e[t][j])}}}return u;break;case'tagName':if(void 0!==e[t].length&&!(e[t] instanceof Array)){return h[az](e[t])}else{return e[t]}break}}return e},cd=function(i){T={'selector':i};var i=i.toString();T.id=i.match(/#[\w_\-\/\\]+/g);if(T.id!==null){i=i.replace(T.id,'');T.id=T.id.shift().substr(1)}T.classNames=i.match(/\.\w+/g);if(T.classNames!==null){for(var j=0;j<T.classNames.length;j++){i=i.replace(T.classNames[j],'');T.classNames[j]=T.classNames[j].substr(1)}}T.tagName=i.length?i:null};return function(i,e){var i,e;if(void 0===i||!i.length){throw 'Invalid element selector > '+i}if(void 0!==e){if(void 0!==e.length&&!e.length){return []}c=e}else{c=this}i=i.split(' ');if(i.length>1){var u=[];for(var j=0;j<i.length;j++){cd(i[j]);if(j===0){u.push(dh())}else{c=u.pop();u.push(dh())}}u=u.pop();return u}else{cd(i);if(i.length===1&&i[0]==='body'){return h.doc.body}return dh()}return []}}());var y=(function(){var gj=!1,bj={'HTMLEvents':{type:'',cancelBubble:!1,cancelable:!0},'KeyboardEvents':{type:'',cancelBubble:!1,cancelable:!0,keyIdentifier:'',keyLocation:0,which:0,charCode:0,keyCode:0,ctrlKey:!1,altKey:!1,shiftKey:!1,view:null,metaKey:!1},'MouseEvents':{type:'',cancelBubble:!1,cancelable:!0,view:null,detail:0,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:null}},ge=function(a,O){if(void 0===O){var O=this}if(h.doc.addEventListener){a.dispatchEvent(O)}else{a.fireEvent(O.eventType,O)}};return function(b,a,y){var O,t,b,V='HTMLEvents',jk=(void 0!==a&&null!==a),q={};if(b.search(/click|mouse/i)>-1){V='MouseEvents'}else if(b.search(/key/i)>-1){V='KeyboardEvents'}else{V='HTMLEvents'}b=!!h.doc.addEventListener?''+b:'on'+b;if(void 0!==y&&typeof y==='object'){for(t in bj[V]){if(t==='type'){q[t]=b}else if(t==='view'){q[t]=Spk.win}else if(void 0!==y[t]){q[t]=y[t]}else{q[t]=bj[V][t]}}}else{for(t in bj[V]){if(t==='type'){q[t]=b}else if(void 0!==a&&void 0!==a[t]){q[t]=a[t]}else{switch(t){case'relatedTarget':if(void 0!==a){q[t]=a}else{q[t]=null}break;case'view':q[t]=Spk.win;break;default:q[t]=bj[V][t]}}}}if(gj){O=new Event(q.type)}else{if(h.doc.addEventListener){O=h.doc.createEvent('HTMLEvents');O.initEvent(q.type,!0,!0)}else{O=h.doc.createEventObject();O.eventType=q.type}}if(!h.doc.createEventObject){for(t in q){O[t]=q[t]}}if(void 0===O.preventDefault){O.preventDefault=function(){O.cancelBubble=!0,O.returnValue=!1}}if(!jk){O.dispatch=function(a){ge.call(O,a)};return O}ge(a,O)}}());var hd='__getID',ay='__findID',an='store',z='changeStore',N='origStore',f='customStore',W='customEvents',el='mouseenter',ek='mouseleave',fs='unbind',hn='clear',fv='remove';y[hd]=(function(){var dm=0;return function(){return dm++}}()),y[ay]=function(a){for(var t in this[an]){if(this[an][t]===a){return t}}return !1},y[an]={},y[z]={},y[N]={},y[f]={},y[W]={};y[W][el]=(function(){var cz=function(O,cm,fID){var a=this;if(a===O.currentTarget&&a!==O.relatedTarget&&!h.hasChild(a,O.relatedTarget)){var m=y.customStore[cm]['mouseenter'][fID];m.__rebinderEnabled=!1;a.removeEventListener('mouseout',m.__rebinder,!1);a.addEventListener('mouseover',m,!1)}};return function(O,cm,fID){var a=this;if(a===O.target||h.hasChild(a,O.target)){var m=y.customStore[cm]['mouseenter'][fID];a.removeEventListener('mouseover',m,!1);if(void 0===m.__rebinder){m.__rebinder=function(O){cz.call(a,O,cm,fID)};m.__rebinderType='mouseout'}m.__rebinderEnabled=!0;a.addEventListener('mouseout',m.__rebinder,!1);y('mouseenter',a,O)}}}()),y[W][ek]=(function(){var cy=function(O,cm,fID){var a=this;if(a===O.target||h.hasChild(a,O.target)){var m=y.customStore[cm]['mouseleave'][fID];m.__rebinderEnabled=!1;a.removeEventListener('mouseover',m.__rebinder,!1);a.addEventListener('mouseout',m,!1)}};return function(O,cm,fID){var a=this;if(a===O.currentTarget&&a!==O.relatedTarget&&!h.hasChild(a,O.relatedTarget)){var m=y.customStore[cm]['mouseleave'][fID];a.removeEventListener('mouseout',m,!1);if(void 0===m.__rebinder){m.__rebinder=function(O){cy.call(a,O,cm,fID)};m.__rebinderType='mouseover'}m.__rebinderEnabled=!0;a.addEventListener('mouseover',m.__rebinder,!1);y('mouseleave',a,O)}}}()),y[co]=(function(){var c=this,jr=!1,eb=['start','end','leave','move','cancel'],gn=!h.doc.addEventListener,jp=gn?'attachEvent':'addEventListener',bh=gn?'on':'',ld=gn?void 0:!1,bg=function(b,a,F,ao,ey){var b,a,al=c[ay](a),aj,ac;if(al===!1){al=c[hd](),c[an][al]=a,c[z][al]={},c[N][al]={}}if(void 0===c[z][al][b]){c[z][al][b]=new Array(),c[N][al][b]=new Array()}if(void 0!==ey){ac=ao?function(O){F.call(ao,O,ey)}:function(O){F.call(O.target,O,ey)}}else{ac=ao?function(O){F.call(ao,O)}:F}if(gn){aj=function(fp){var O=fp?fp:window.event;O.target=void 0!==O.target?O.target:O.srcElement,O.preventDefault=function(){O.returnValue=!1};ac(O)}}else{aj=ac}if(aj!==F){c[z][al][b].push(aj),c[N][al][b].push(F)}else{c[z][al][b].push(null),c[N][al][b].push(F)}if(b==='touch'){for(var j=0;j<eb.length;j++){a[jp](bh+'touch'+eb[j],aj,ld)}return}if(b==='mousewheel'&&cf==='firefox'){a.addEventListener('DOMMouseScroll',aj,!1)}else if(gn){a.attachEvent('on'+b,aj)}else{a.addEventListener(b,aj,!1)}if(!gn&&b===ek){if(void 0===c[f][al]){c[f][al]={}}if(void 0===c[f][al][b]){c[f][al][b]=new Array()}var gd=c[f][al][b].length;c[f][al][b].push(function(O){c[W][b].call(a,O,al,gd)});c[f][al][b][gd].__binderType='mouseout';a.addEventListener('mouseout',c[f][al][b][gd],!1)}else if(!gn&&b===el){if(void 0===c[f][al]){c[f][al]={}}if(void 0===c[f][al][b]){c[f][al][b]=new Array()}var gd=c[f][al][b].length;c[f][al][b].push(function(O){c[W][b].call(a,O,al,gd)});c[f][al][b][gd].__binderType='mouseover';a.addEventListener('mouseover',c[f][al][b][gd],!1)}};return function(b,a,F,li,dat){var b,a;if(void 0===b||null===b){b=void 0===b?'undefined':'null';console.log(arguments);throw new TypeError('Spk::event:bind > expecting string '+'or array for argument 1 "type" @'+b)}else if(void 0===a||null===a){b=void 0===a?'undefined':'null';console.log(arguments);throw new TypeError('Spk::event:bind > expecting object '+'or array for argument 2 "elem" @'+a)}if(!(b instanceof Array)){b=[b]}if(!(a instanceof Array)){a=[a]}for(var j=0;j<b.length;j++){for(var O=0;O<a.length;O++){bg(b[j],a[O],F,li,dat)}}}}),y[fs]=(function(){var c=this,n=!1,bt=!1,F,gn=!h.doc.addEventListener,bh=gn?'on':'',br=gn?'detachEvent':'removeEventListener',iz=function(b,a,F){var w=c[N][n][b],E=c[z][n][b];for(var j=0;j<w.length;j++){if(w[j]===F){bt=j;break}}if(bt===!1){throw Error('Spk::event:unbind > Invalid function, function is not currently bound')}if(E[bt]!==null){F=E.splice(bt,1)[0]}else{E.splice(bt,1)}w.splice(bt,1);a[br](bh+b,F);if(void 0!==c[f][n]&&void 0!==c[f][n][b]&&c[f][n][b].length>0){var m=c[f][n][b].splice(bt,1)[0];if(void 0!==m.__rebinderEnabled&&m.__rebinderEnabled){a[br](m.__rebinderType,m.__rebinder)}else{a[br](m.__binderType,m)}}};return function(b,a,F){n=c[ay](a);if(n===!1){throw Error('Spk::event:unbind > Invalid element, has no bound listeners')}if(b instanceof Array){for(var j=0;j<b.length;j++){iz(b[j],a,F)}}else{iz(b,a,F)}}}),y[hn]=(function(){var c=this,n=!1,bh=!!h.doc.addEventListener?'':'on',ax=bh.length>0?void 0:!1,br=bh.length>0?'detachEvent':'removeEventListener',hy=function(b){var w=c[N][n][b],E=c[z][n][b];while(w.length>0){var ip=w.splice(0,1)[0],di=E.splice(0,1)[0];c.store[n][br](bh+b,(di===null?ip:di),ax)}};return function(evtType,a){n=c[ay](a);if(!1===n){throw Error('Spk::event:clear > Invalid element, has no bound listeners')}if(evtType instanceof Array){for(var j=0;j<evtType.length;j++){hy(evtType[j])}}else{hy(evtType)}}}),y[fv]=(function(){var c=this,n=!1,bh=!!h.doc.addEventListener?'':'on',ax=bh.length?void 0:!1,br=bh.length?'detachEvent':'removeEventListener',hy=function(){var a=c[an][n],cx=c[N][n],dv=c[z][n];while(cx.length>0){var w=cx[t],js=dv[t];while(w.length>0){var ip=w.splice(0,1)[0],di=E.splice(0,1)[0];c.store[n][br](bh+b,(di===null?ip:di),ax)}cx.splice(0,1),dv.splice(0,1)}};return function(a){if(a instanceof Array||(typeof a==='object'&&void 0!==jz.length)){for(var j=0;j<a.length;j++){n=c[ay](a);if(!1!==n){hy()}}}else{n=c[ay](a);if(!1===n){hy()}}}}),y[co]=y[co].call(y),y[hn]=y[hn].call(y),y[fv]=y[fv].call(y),y[fs]=y[fs].call(y),h[fp]=y,h[ia]=function(p,returnNode){if(void 0===p){ea(arguments);throw 'Spk.clearNode > Element object must not be null'}if(typeof p!=='object'||!'parentNode' in p){ea(arguments);throw 'Spk.clearNode > Invalid HTML Element'}if(p.parentNode!==null){p.parentNode.removeChild(p);if(void 0!==returnNode&&returnNode){return p}}},h[cq]=function(p,M){if(void 0===p){ea(arguments);throw 'Spk::clearChildren > Invalid HTML Element @'+p}if(void 0===M||!M){M=!1}else{var an=[]}while(p.lastChild){if(M){an.push(p.lastChild)}p.removeChild(p.lastChild)}if(M){return an.reverse()}},h[kl]=(function(){var gf,af,bg=function(e){if(void 0===e){console.log(af);throw new TypeError('Spk::style >  Invalid HTML Element')}for(var t in gf){if(t==='opacity'&&cf==='msie'&&dg<9){e.style['filter']='alpha(opacity='+(parseFloat(gf[t])*100)+')';continue}else if(void 0===e.style||void 0===e.style[t]){throw new TypeError('Spk::style > Invalid css property @'+t)}e.style[t]=gf[t]}},ka=function(arrobj){for(var j=0;j<arrobj.length;j++){bg(arrobj[j])}},ig=function(G){for(var j=0;j<G.length;j++){if(G[j] instanceof Array){ka(G[j]);continue}bg(G[j])}};return function(e,cssText){gf=cssText;af=arguments;if(e instanceof Array||(typeof jz==='object'&&void 0!==e.length)){ig(e);return}bg(e)}}()),h[iu]=function(cw,e){if(void 0===cw||typeof cw!=='string'){l(1233);l(cw);l(e);throw 'Spk > Invalid getStyle property...expecting string'}else if(void 0===e||void 0===e.style){l(44444);l(cw);l(e);throw 'Spk > Invalid getStyle object...expecting HTML Element'}if(cf==='msie'&&dg<9){if(cw==='opacity'){cw='filter'}return e.currentStyle[cw]}return w.getComputedStyle(e)[cw]};var gi=function(){},jv=gi[ag]={store:{},clone:function(a){return this.store[a].cloneNode()},create:function(a){switch(a){case'frag':this.store[a]=h.doc.createDocumentFragment();break;case'text':this.store[a]=h.doc.createTextNode('');break;default:this.store[a]=h.doc.createElement(a)}},get:function(a,text){if(void 0===this.store[a]){this.create(a)}if(void 0!==text&&a!=='frag'){if(void 0===this.store['text']){this.create('text')}var kh=this.store[a].cloneNode();switch(a){case'text':kh.nodeValue=text;break;default:var ko=this.store['text'].cloneNode();ko.nodeValue=text;kh.appendChild(ko)}return kh}return this.store[a].cloneNode()}},dk=new gi;h[bg]=(function(){var jb='setAttribute',et=function(num){throw 'Spk > Invalid text object '+num},ef=function(a,attrs){if(typeof a==='string'){a=dk.get(a)}if(void 0===a){throw 'Spk > Invalid HTML Element in set'}for(var t in attrs){switch(t){case'text':var b=typeof attrs[t];switch(b){case'object':try{a.appendChild(attrs[t])}catch(err){et(1)}break;case'string':a.appendChild(Spk.node('text',attrs[t]));break;default:l(t);l(attrs);et(b)}break;case'style':var b=typeof attrs[t];if(b==='string'){a[jb](t,attrs[t])}else if(b==='object'){var gf=attrs[t];for(var lk in gf){a.style[lk]=gf[lk]}}else{throw new TypeError('Spk::set > expecting string or object for style')}break;default:a[jb](t,attrs[t])}}return a};return function(a,attrs){if(a instanceof Array){var G=[];for(var j=0;j<a.length;j++){G.push(ef(a[j],attrs))}return G}return ef(a,attrs)}}()),h[ie]=(function(){var af,j,t,ef=function(a,attrs){if(attrs instanceof Array){for(t=0;t<attrs.length;t++){try{a.removeAttribute(attrs[t])}catch(unsetNodeError){throw 'Spk:unset > could not remove attribute "'+attrs[t]+'" from node @'+a}}}else{try{a.removeAttribute(attrs)}catch(unsetNodeError){ea(af);throw 'Spk:unset > could not remove attribute "'+attrs+'" from node @'+a}}};return function(a,attrs){af=arguments;if(a instanceof Array){for(j=0;j<a.length;j++){ef(a[j],attrs)}return}ef(a,attrs)}}()),h[p]=function(b,text){if(typeof b!=='string'){throw 'Spk > Invalid node get type'}return dk.get(b,text)},h[p][hl]=(function(){var bu=!0,kz=dk.get('frag'),em=dk.get('div'),hf,hb=function(R){if(bu){bu=!1;kz.appendChild(em)}em.innerHTML=R,hf=h[az](em.children),h[cq](em);return hf.length>1?hf:hf[0]},et=function(){throw 'Spk::node:fromString > Invalid parameter type, expecting string'};return function(R){if(R instanceof Array){var G=[];for(var j=0;j<R.length;j++){if(typeof R!=='string'){return et()}G.push(hb(R[j]))}return G}else if(typeof R==='string'){return hb(R)}return et()}}());var dj=function(X){this.register(X)},as={},ji='after',id='before',gy='prepend',bw='append',gx='process',im='register',D='nodeManager';as[D]=dj[ag];as[D][im]=function(X){var c=this;for(var j=0;j<X.length;j++){h[X[j]]=(function(managerType){var x=managerType;return function(r,g){c.process.call(c,x,r,g)}}(X[j]))}};as[D][gx]=function(b,r,g){var b,r,g;try{if(r instanceof Array||(typeof r==='object'&&void 0!==r.length)){for(var j=0;j<r.length;j++){if(typeof r[j]==='string'){r[j]=h[p].fromString(r[j]);if(r[j].length>1){this.process(b,r[j],g);continue}}this[b](r[j],g)}}else{if(typeof r==='string'){r=h[p].fromString(r);if(r[j].length>1){this[gx](b,r,g);return}else{r=r[0]}}this[b](r,g)}}catch(nodeManagerErr){console.log(nodeManagerErr.stack);throw 'Spk.'+b+' could not process node @'+(r.tagName)}};as[D][id]=function(p,g){g.parentNode.insertBefore(p,g)},as[D][bw]=function(p,g){g.appendChild(p)},as[D][gy]=function(p,g){if(g.firstChild){g.insertBefore(p,g.firstChild)}else{g.appendChild(p)}},as[D][ji]=function(p,g){if(g.nextSibling){g.parentNode.insertBefore(p,g.nextSibling)}else{g.parentNode.insertBefore(p)}};D=new dj([gy,bw,id,ji]);h[is]=function(parent,child){if(void 0===child||null===child||void 0===child.parentNode){return !1}var p=child.parentNode;while(p!==null){if(p===parent){return !0}p=p.parentNode}return !1},h[gm]=function(a){var hm,a;if(void 0!==(hm=a.nextElementSibling)){return hm}while(null!==a.nextSibling&&a.nextSibling.nodeType!==-1){a=a.nextSibling}return a},h[eh]=function(a){var hm,a;if(void 0!==(hm=a.previousElementSibling)){return hm}while(null!==a.previousSibling&&a.previousSibling.nodeType!==-1){a=a.previousSibling}return a},h[dh]=function(G,gg,co){if(void 0===co){var co=this}if(typeof gg!=='function'){throw new TypeError('Spk::filter > Expecting function for second parameter "callback" @'+F)}var u=[],ga=G.length;for(var j=0;j<ga;j++){if(gg.call(co,G[j],j,G)){u.push(G[j])}}return u},h[jm]=function(search,G,start){var b=typeof search;if(void 0===search||(b!=='string'&&b!=='number')){throw new TypeError('Spk::indexOf > Expecting string for first parameter "search" @'+search)}if(void 0===G||void 0===G.length){throw new TypeError('Spk::indexOf > Expecting array or string for second parameter "searchObject" @'+G)}var start,ga=G.length,j;if(void 0===start){j=0}else if(start<0){j=ga+start}else{j=start}if(ga===0||(ga>0&&(j>ga-1||j<0))){return -1}else{for(j;j<ga;j++){if(G[j]===search){return j}}}return -1},h[ke]=(function(){var ir={10:'A',11:'B',12:'C',13:'D',14:'E',15:'F'},bc=function(numb){if(numb<10){return numb}return ir[numb]},S=function(fq){var fq=parseInt(fq),jr=fq%16;return bc((fq-jr)/16)+bc(jr)};return function(B,bl){var B,bl;if(void 0===B){throw new TypeError('Spk::ease:getHex > RGB value cannot be null')}if(void 0===bl||bl){bl=!0}else{bl=!1}if(typeof B==='string'){if(B.search(',')<1||(B=B.split(',')).length!==3){throw new TypeError('Spk::ease:getHex > Invalid RGB string format, expecting "#,#,#" @'+B)}}else if(B instanceof Array){if(B.length!==3){throw new TypeError('Spk::ease:getHex > Invalid RGB array format, expecting "[#,#,#]" @'+B)}}else if(typeof B==='object'){if((void 0===B.r&&void 0===B.R)||(void 0===B.g&&void 0===B.G)||(void 0===B.b&&void 0===B.B)){throw new TypeError('Spk::ease:getHex > Invalid RGB object format, expecting '+'"{r: #, g: #, b: #}" OR "{R: #, G: #, B: #}" @'+B)}for(var t in B){B[t.toLowerCase()]=Number(B[t])}B=[B.r,B.g,B.b]}var R=bl?'#':'';for(var j=0;j<B.length;j++){R+=S(B[j])}return R}}()),h[fj]=(function(){return function(rgba,fc,ai){var rgba,fc,ai;if(void 0===ai||!ai){ai=!1}else{ai=!0}var j=0,bn,cn=1,aa,jg,B=new Array(),jy=1,jl='round';bn=Number(rgba.pop());jy=bn+cn*(1-bn);for(j;j<fc.length;j++){aa=Number(rgba[j]),jg=Number(fc[j]);if(jg===0&&cn<1){jg=255-(255*cn)}B.push(Math[jl](Number((aa*bn)+((jg*cn)*(1-bn))/jy)))}return ai?h.getHex(B):B}}()),h[kd]=(function(){var gz={'A':10,'B':11,'C':12,'D':13,'E':14,'F':15},bc=function(S){if(S<10){return S}S=S.toUpperCase();if(void 0==gz[S]){throw 'Invalid hex to rgb request 2: '+S}return gz[S]},B=function(S,v){var jr=parseInt(bc(S.substring(0,1))),jt=parseInt(bc(S.substring(1,2)));return jr*16+jt+''};return function(S){var S,lo=[];if(typeof S!=='string'){throw new TypeError('Spk::ease:getRGB > Invalid argument, expecting hex string @'+S)}if(S.substr(0,1)==='#'){S=S.substr(1)}if(S.length===3){var u=S.split('');S='';for(var j=0;j<u.length;j++){S+=u[j]+''+u[j]}}for(var j=0;j<3;j++){lo.push(Number(B(S.substr(j*2,2))))}return lo}}()),h[jo]=(function(){var it=function(dz){var ch,er=dz,hk=function(){var dl=Spk.get('script');for(j=0;j<dl.length;j++){if(dl[j].hasAttribute('src')&&dl[j].src===er){ax=dl[j];Spk.win.clearInterval(ch);ch=null;break}}};ch=Spk.win.setInterval(hk,1)};return function(dz,ap){var er=dz;h.getScript(er);new it(er)}}()),h.text=(function(){return function(e,bg,bw){if(void 0===e||void 0===e.nodeType){throw Error('Spk::text > Invalid Object expecting HTML node @'+e)}if(void 0===bw||!bw){var bw=!1}var aw=e.childNodes,ha=(bg===void 0);if(aw.length===0){if(ha){return ''}h.set(e,{'text':bg})}for(var j=0;j<aw.length;j++){if(aw[j].nodeName==='#text'){if(ha){return aw[j].nodeValue}else{if(bw){aw[j].nodeValue+=bg}else{aw[j].nodeValue=bg}break}}}}}());h.map=(function(){var j;return function(array,F){if(typeof F!=='function'){throw new TypeError('Spk::map > callback `func` must be type function')}for(j=0;j<array.length;j++){F(array[j])}}}());h.docHeight=function(){return h.doc.documentElement.offsetHeight},h.docWidth=function(){return h.doc.documentElement.offsetWidth},(function(){var hz=h.doc.compatMode.toLowerCase()==='backcompat'?!0:!1;h[bv]=function(){return hz?h.body[bv]:h.doc.documentElement[bv]},h[cb]=function(){return hz?h.body[cb]:h.doc.documentElement[cb]}}());h.cue=ku,h.trace=ea,hu()})(window);